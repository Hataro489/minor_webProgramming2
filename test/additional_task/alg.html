<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Решение алгоритмической задачи</title>
</head>
<body>
<p>
    Имеются две ёмкости: кубическая с ребром A, цилиндрическая с высотой H и радиусом основания R.
    Определить, поместится ли жидкость объёма M в первую ёмкость, во вторую, в обе.
</p>
<form action="https://www.yandex.ru/search?" id = "UserEnter" name = "UserEnter" target="_blank">
    <ul>
        <li>
            Для поисковика:
            <input name = "q" value="search">
        </li>
        <li>
            Формулировка задачи:
            <input name = "formulation" value="Имеются две ёмкости: кубическая с ребром A,
            цилиндрическая с высотой H и радиусом основания R.Определить, поместится ли жидкость
             объёма M в первую ёмкость, во вторую, в обе.">
        </li>
        <li>
            Ребро А кубической ёмкости:
            <input id = "a" name = "a" type = "number" value="5">
        </li>
        <li>
            Высота H цилиндрической ёмкости:
            <input id = "h" name = "h" type = "number" value="4">
        </li>
        <li>
            Радиус R цилиндрической ёмкости:
            <input id = "r" name = "r" type = "number" value="2">
        </li>
        <li>
            Объём M жидкости:
            <input id = "m" name = "m" type = "number" value="5">
        </li>
        <li>
            Результат решения:
            <input name = "result" value="не определен">
        </li>
        <li>
            Вывести результат на страницу:
            <input id = "verify" type = "button" value="Проверить">
        </li>
        <li>
            Вывести результат на сервер:
            <input id = "send" type = "button" value="Отправить">
        </li>
    </ul>
</form>
<p id = "result">Результат вычислений: </p>
<nav class="menu">
  <ul>
    <li><a href="passport_find_edit.html" target="_blank">Изменение на латиницу</a></li>
    <li><a href="index.html" target="_blank">Считывание из DOM</a></li>
  </ul>
</nav>
<script>
    function verify () {
    console.log("a, h, r, m")
    let a = parseInt(elementA.value);
    let h = parseInt(elementH.value);
    let r = parseInt(elementR.value);
    let m = parseInt(elementM.value);
    console.log(a, h, r, m)

    let volume1 = Math.pow(a, 3);
    let volume2 = Math.PI * Math.pow(r, 2) * h;
      if (m <= volume1 && m <= volume2) {
    result =  "Жидкость поместится и в первую ёмкость, и во вторую";
    document.getElementById("result").innerText = messageText + result;
    document.getElementsByName('result')[0].value = result;
    check = true;
      }
      else if (m <= volume1) {
        result =  "Жидкость поместится только в первую ёмкость";
        document.getElementById("result").innerText = messageText + result;
        document.getElementsByName('result')[0].value = result;
        check = true;
      }
      else if (m <= volume2) {
        result =  "Жидкость поместится только во вторую ёмкость";
        document.getElementById("result").innerText = messageText + result;
        document.getElementsByName('result')[0].value = result;
        check = true;
      }
      else {
        result = "Жидкость не поместится ни в одну из ёмкостей";
        document.getElementById("result").innerText = messageText + result;
        document.getElementsByName('result')[0].value = result;
        check = false;
      }
    }
    function send() {
    if (check) {
        let textCondition = document.getElementsByTagName('p')[0].innerText
        document.getElementsByName('formulation')[0].value = textCondition;
        document.getElementsByName('result')[0].value = result;
        document.getElementById("UserEnter").submit();
    }
    else {
        alert("Есть недостатки. Повторите ввод")
    }
}

    function verify_send() {
        verify();
        send();
    }

    let messageText = document.getElementById("result").innerText
    console.log(messageText)
    let result;
    let check = false;

    const elementA = document.getElementById("a");
    elementA.addEventListener('input', verify);

    const elementH = document.getElementById("h");
    elementH.addEventListener('keyup', verify);

    const elementR = document.getElementById("r");
    elementR.addEventListener('keyup', verify);

    const elementM = document.getElementById("m");
    elementM.addEventListener('keyup', verify);

    const elementVerify = document.getElementById("verify");
    elementVerify.addEventListener('click', verify);

    const elementSend = document.getElementById("send");
    elementSend.addEventListener('click', send)
</script>
</body>
</html>
